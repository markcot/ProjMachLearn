<!DOCTYPE HTML>
<html lang="en">

   <head>
      <!-- Required meta tags -->
      <title>Power</title>

      <meta charset="utf-8">
      <meta name="description" content="estimate wind turbine power based on wind speed">
      <meta name="keywords" content="wind, turbine, speed, power">
      <meta name="author" content="Mark Cotter">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

      <!-- Bootstrap CSS. Code from https://getbootstrap.com/ -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
      <!-- JavaScript Bundle with Popper. Code from https://getbootstrap.com/ -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
      <!-- full uncompressed jQuery. Code from https://code.jquery.com/ -->
      <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
   </head>

   <body class="p-3 mb-2 bg-secondary text-white">
      <h2 class="h2" style="width:400px; margin:0 auto;">Power Output Calculator</h2>

      <br />

      <div class="container" style="width:600px; margin:0 auto;">
         <table class="table table-dark">
            <thead class="thead-dark">
               <tr>
                  <td style="width:200px;">
                     <input class="form-control" id="number-input" type="number" placeholder="enter wind speed">
                  </td>
                  <td style="text-align:center; width:200px;">
                     <button type="button" class="btn btn-success" id="number-button">Get Power Output</button>
                  </td>
                  <td style="width:200px;">
                     <input class="form-control" id="number-output" type="text" placeholder="power output" readonly>
                  </td>
               </tr>
            </thead>
         </table>

         <br />

         <p class="text-left">
            This application is a wind turbine power output calculator. The power output in kilowatts (kW) is estimated for an inputted wind speed in metres/second (m/s).
         </p>

         <p class="text-left">
            The estimation is based on a machine learning model that correlates empirical data of known power output of the a given
            wind turbine. The original dataset contained in the file "powerproduction.txt" contained 500 data points. After an analyse and research into turbine of the data, 49 of these data points with 0kW power were excluded and one duplicate data point were omitted fro the machine learning model.
         </p>

         <p class="text-left">
            The power output calculator is set with 3m/s cut-in wind speed and a 24.5m/s cut-out wind speed.
         </p>

         <div class="text-center">
            <img src="https://github.com/markcot/ProjMachLearn/tree/main/staticpages/ML_training_data_versus_model_prediction.JPG" class="rounded" alt="training data versus model prediction image">
         </div>

      </div>

      <script>
         // When button is clicked, use the entered speed to estimate the power output
		   // Code adapted from https://stackoverflow.com/a/7685819. &
		   // https://www.sitepoint.com/ajaxjquery-getjson-simple-example/
         $("#number-button").click(function(e) {
            var speed = document.getElementById('number-input').value;
            host = window.location.origin
            // console.log(typeof speed)
               
            $.getJSON("/api/number/"+speed, function(data) {
               $('#number-output').val(data.power);
               console.log("Wind speed " + speed + " gives power output of " + data.power);
            });

            
         });
      </script>

   </body>
</html>